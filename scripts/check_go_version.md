# check_go_version.go 脚本的解析

## 1. set -e 命令

在 `check_go_version.sh` 脚本文件的第三行，添加的 `set -e` 命令是为了确保脚本文件在运行过程中，一旦遇到错误则直接退出，不加这个命令的话，脚本文件在执行时，即使遇到了错误，它也还会继续执行剩下的命令。

## 2. | 符号

在 `check_go_version.sh` 脚本文件的第六行，出现了 `|` 符号，它被称为管道，一般夹在两个命令之间，例如 `cmd1 | cmd2`，它的作用是将 `cmd1` 命令产生的结果传递给 `cmd2`，作为 `cmd2` 命令的输入参数。具体用法可在第

## 3. cut 命令

在 `check_go_version.sh` 脚本文件的第六行，利用 `cut` 命令截取 `go` 编译器的版本号，所以 `cut` 可以被看成截取字符串的工具。在脚本文件中，`go version | cut -d ' ' -f 3` 命令的执行过程是，先执行 `go version` 命令，获得 `go version go1.16.7 linux/amd64` 的结果，然后管道符 `|` 将 `go version` 命令的执行结果作为参数传给 `cut -d ' ' -f 3` 命令，该命令中的 `-d` 参数起到分隔符的作用，此处定义的分隔符是一个空格 `' '`，所以，`cut` 命令会将字符串 `go version go1.16.7 linux/amd64` 分割成 `go`、`version`、`go1.16.7`、和 `linux/amd64` 四个部分。`-f` 参数决定要选择第几个部分，此处定义的是选择第三个部分，即 `go1.16.7`。所以，`go version | cut -d ' ' -f 3` 命令的最终执行结果是 `go1.16.7`。

## 4. sed 命令

在 `check_go_version.sh` 脚本文件的第六行，出现了利用 `sed` 命令去替换字符串中的某些内容。`sed -E pattern` 表示 `sed` 命令在执行时支持正则表达式。`sed -E 's/^go//'` 命令的作用是：如果字符串里的开头是 `go`，则将 `go` 替换成空字符串。结合前面的 `go version | cut -d ' ' -f 3` 命令，管道符 `|` 将 `go1.16.7` 字符串传给 `sed -E 's/^go//'` 命令，那么字符串 `go1.16.7` 里的 `go` 将会被空字符串替换，得到最终结果是 `1.16.7`。